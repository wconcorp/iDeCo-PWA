<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />

  <title>è³‡ç”£é‹ç”¨ã‚¢ãƒ—ãƒª</title>

  <!-- PWA -->
  <link rel="manifest" href="manifest.json" />
  <link rel="icon" href="favicon.ico" />
  <meta name="theme-color" content="#e6f2ea" />

  <!-- CSS -->
  <link rel="stylesheet" href="style.css" />

  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <style>
    /* ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢ç”¨ */
    #loginOverlay {
      position: fixed;
      top:0; left:0; width:100%; height:100%;
      background:#f6f8f7;
      display:flex; justify-content:center; align-items:center; z-index:9999;
    }
    .login-card {
      background:#fff;
      padding:40px 30px;
      border-radius:12px;
      box-shadow:0 4px 16px rgba(0,0,0,0.1);
      width:90%; max-width:400px;
      text-align:center;
    }
    .login-card h1 { color:#4CAF50; margin-bottom:30px; font-size:24px; }
    .login-card label { display:block; text-align:left; font-size:14px; margin-bottom:5px; color:#666; }
    .login-card input {
      width:100%; padding:12px 40px 12px 15px; margin-bottom:20px;
      border:1px solid #ccc; border-radius:8px; font-size:16px; transition:border-color 0.3s;
    }
    .login-card input:focus { border-color:#4CAF50; outline:none; }
    .login-card button {
      width:100%; padding:12px; background:#4CAF50; border:none; border-radius:8px; color:#fff; font-size:16px; cursor:pointer;
    }
    .login-card button:hover { background:#45a049; }
    .error { color:red; font-size:14px; margin-bottom:15px; display:none; }
    .show-pass {
      position:absolute; right:15px; top:40px; cursor:pointer; user-select:none;
      color:#4CAF50; font-size:16px;
    }
    .inputWrapper { position:relative; }
  </style>
</head>

<body>
  <!-- ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢ -->
  <div id="loginOverlay">
    <div class="login-card">
      <h1>ãƒ­ã‚°ã‚¤ãƒ³</h1>
      <div class="error" id="loginError">å£åº§ç•ªå·ã¾ãŸã¯ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒæ­£ã—ãã‚ã‚Šã¾ã›ã‚“</div>
      
      <div class="inputWrapper">
        <label for="loginId">åŠ å…¥è€…å£åº§ç•ªå·ï¼ˆ10æ¡ï¼‰</label>
        <input type="text" id="loginId" maxlength="10" placeholder="" pattern="\d{10}">
      </div>

      <div class="inputWrapper">
        <label for="loginPw">ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰</label>
        <input type="password" id="loginPw" placeholder="">
        <span class="show-pass" onclick="togglePw()">ğŸ‘</span>
      </div>

      <button onclick="login()">ãƒ­ã‚°ã‚¤ãƒ³</button>
    </div>
  </div>

  <!-- æ—¢å­˜ãƒšãƒ¼ã‚¸ï¼ˆãƒ­ã‚°ã‚¤ãƒ³å¾Œè¡¨ç¤ºï¼‰ -->
  <header class="header">
    <h1>è³‡ç”£çŠ¶æ³</h1>
  </header>

  <main class="app">

    <div class="card green">
      <div class="label">è³‡ç”£è©•ä¾¡é¡</div>
      <div id="totalAsset" class="amount">0<span>å††</span></div>
    </div>

    <div class="card green">
      <div class="label">è©•ä¾¡æç›Š</div>
      <div id="profit" class="amount plus">0<span>å††</span></div>
    </div>

    <div class="card green">
      <div class="label">é‹ç”¨åˆ©å›ã‚Šï¼ˆå½“åˆã‹ã‚‰ï¼‰</div>
      <div id="returnRate" class="amount">0<span>%</span></div>
    </div>

    <div class="card white">
      <div class="label">å¹´é‡‘è³‡ç”£æ¨ç§»</div>
      <div class="sub">éå»12ã‹æœˆ</div>
      <canvas id="assetChart"></canvas>
    </div>

  </main>

  <script src="main.js"></script>

  <script>
    // ã‚µãƒ³ãƒ—ãƒ«å£åº§ãƒ‡ãƒ¼ã‚¿ï¼ˆãƒ­ã‚°ã‚¤ãƒ³ç”¨ï¼‰
    const users = [
      { id:"8879001454", pw:"1234" }
    ];

    // ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰è¡¨ç¤ºåˆ‡æ›¿
    function togglePw() {
      const pw = document.getElementById('loginPw');
      pw.type = (pw.type === 'password') ? 'text' : 'password';
    }

    // ãƒ­ã‚°ã‚¤ãƒ³å‡¦ç†
    function login() {
      const id = document.getElementById('loginId').value;
      const pw = document.getElementById('loginPw').value;
      const error = document.getElementById('loginError');
      error.style.display='none';

      if(!/^\d{10}$/.test(id)){ 
        error.textContent = "å£åº§ç•ªå·ã¯10æ¡ã®åŠè§’æ•°å­—ã®ã¿æœ‰åŠ¹ã§ã™";
        error.style.display='block';
        return;
      }

      const user = users.find(u=>u.id===id && u.pw===pw);
      if(user){
        // ãƒ­ã‚°ã‚¤ãƒ³æˆåŠŸ â†’ ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢éè¡¨ç¤º
        document.getElementById('loginOverlay').style.display='none';
        // ã“ã“ã§main.jsã§è³‡ç”£ã‚°ãƒ©ãƒ•ç­‰ã®åˆæœŸåŒ–å‡¦ç†ã‚’è¡Œã†
      } else {
        error.textContent="å£åº§ç•ªå·ã¾ãŸã¯ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒæ­£ã—ãã‚ã‚Šã¾ã›ã‚“";
        error.style.display='block';
      }
    }

    // Service Workerç™»éŒ²
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('service-worker.js')
        .then(() => console.log('Service Worker registered'))
        .catch(err => console.error(err));
    }
  </script>
</body>
</html>
